---
title: Mac Full Node
categories: mining
tags: mining
---

          
Running a full node is easy and helps strengthen the QRL network. You should have a basic understanding of the CLI before attempting to set this up, it isn't really all that tough. Every answer you need is out there already, search online or drop into the QRL chat for help.


#### Plan For The Future

Make sure the computer you are using has enough power to handle the load of the mining operation. You will also need enough storage to keep the chain as it grows in the future. Recommend a few hundred gig HDD/SSD to sync the chain on long term to be safe.

#### GPU Mining

You will be able to use your GPU to mine with a pool. There are many options for cryptonight mining client software. We recommend `xmr-stak` and `FIXME WITH SOFTWARE` as this is what we have used and found to work. There are many options and something may work better for you. 

You will need ot select the pool you want to mine with for the list of community pools available. Read the details of the pool carefully as they all are run a bit differently. Things to pay attention to are pool fees, payout amount, and hash rate of the pool. You can find a list of pools here [FIXME WITH A LINK](#)

* * *

### Minimum Hardware Requirements

* x86 or x64 based processor
* Support for AES-NI
* Enough space for the blockchain growth.
            
* * *

## Update and Dependencies 

Although MAC's run very similar to Ubuntu in the way things work, we still require some special dependencies and brew makes it very easy to install. You can follow the instructions found at the [brew main page](https://brew.sh/) or simply enter the following into your terminal.

``` bash
# If you dont have brew already, install it with this command:  
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)
```

This will prompt you through a few questions while it installs. Once you are done follow along below.


#### Update

Now that you have brew installed, update your package lists:  

``` bash
# Update brew package lists
brew update
```

#### Dependencies

``` bash
# Install the required dependencies:  
brew install cmake python3 swig boost hwloc
```

* * *

## Install QRL

Using python's package installation system `pip3` we will install qrl.

```bash
# Install the QRL Package.
pip3 install -U qrl
```

If you need to add logging and troubleshoot issues enter:

```bash
# Add Logging for pip3 
pip3 install -U qrl --log ~/pip3-Qrl.log
```

This will print details of the install to your home directory with the file name pip3-qrl.log. The error may be inside.

* * *

## Wallet

Create a new wallet using the `qrl` command. After you create a wallet you can create a new `slaves.json` file and use it to mine with.

For a full list of `qrl` options run `qrl --help`

### Create New Wallet

```bash
# Create a new wallet with:  
qrl wallet_gen
```
This will generate a new wallet in the directory you are in. 

### Get the Mnemonic and hexseed

To find your hexseed and recovery information for your wallet you will need to run:  
```bash
# Get mnemonic phrase and hexseed
qrl wallet_secret
``` 
It will respond with a question `Wallet idx [0]:` **Enter** selects the default wallet shown, if you have more select the index that reflects the wallet. This will print the address, hexseed and mnemonic phrase to the command line. Save them somewhere safe.

* * *

## Recover Your Wallet

If you loose your wallet, the mining rig catches fire, or worse, you still have the ability to recover your Quanta as long as you've saved the hexseed or mnemonic phrase.  

Without any other flags this will look for the hexseed you generated before.  
We can add the flag --seed-type [hexseed|mnemonic] to change the type of recovery method we want to use.

```bash
# Options:
#   --seed-type [hexseed|mnemonic]
#   --help      Show this message and exit.

qrl wallet_recover --seed-type mnemonic
```

This will prompt up to enter the key or phrase. This should recover the wallet and ask if we want to save it. Enter `y` when prompted.

* * *

## Generate New slaves.json File

Using the wallet you just created generate the slaves.json file against a know working node. You can switch the ip-address with a trusted open node.
```
# QRL Nodes

104.237.3.185
104.237.3.184
104.251.219.145
104.251.219.40
```

```bash
# Generate slaves.json file
qrl -r --host 104.237.3.185 slave_tx_generate 
```
This will prompt with some questions:

```bash
Src []:                 # The wallet you generated by #ID
Addr from []:           # (Leave blank in case same as source)
Number of slaves [0]:   # Enter 4
Access type [0]:        # Mining only or transfer coins [0],[1]
                        # 0 Gives all permissions from the master wallet to slave wallet
                        # 1 Only mining permissions to slave wallet
                            # This setting allows incoming only transfers (SAFE)
Fee [0.0]: 0            # How much fee
```

This will generate a `slaves.json` in the directory you are in. If you need to generate another file later, you must use an **Unused** OTS. 

To specify an OTS index use the `--otsidx {INDEX#}` flag when you call ``slave_tx_generate` Change the INDEX# to an unused OTS key.

```bash
# Using index # 1 to generate slaves.json file
qrl -r --host 104.237.3.185 slave_tx_generate --otsidx 1
```

If you have saved the **Mnemonic** or **hexseed** somewhere safe you can delete the open `wallet.qrl` file and use the `slaves.json` file to mine with. 

Move this fie into your `~/.qrl` directory. If needed, create the directory.

* * * 

## Start the node

Now that we have a `slaves.json` file in our ~/.qrl folder we can start qrl. Check out all the options with a simple `start_qrl --help`

```bash
# start qrl
start_qrl
```

Be patient while the chain syncs and the node catches up!

This will load the blockchain into the default ~/.qrl/data folder unless you call a different location. The `start_qrl` command will look for a valid wallet.qrl file or a slaves.json file in this directory.

* * * 

## Config File

You can alter the default settings of the node by simply adding a file to your `~/.qrl` folder 

```bash
# Create and edit the config.yml file
nano ~/.qrl/config.yml
```

Add the following to the file. These are all default settings, uncomment to edit the parameters.

```bash
# ====================================== 
## QRL Configuration File
# ====================================== 
## Format must meet the following "{VARIABLE} : {SETTING}, {Boolean} : [True] [False]"
#
## Drop into the Discord chat for help setting this up 
## https://discord.gg/RcR9WzX
#
# ====================================== 
## Mining Setup  
# ====================================== 
## Enable mining with True | Disable with False  
#mining_enabled : True 
#  
## Set to desired CPU count. [0] == auto-detect CPU/threads and use all available 
#mining_thread_count : 0 
#  
# ======================================  
# Mining Wallet Setup  
# ======================================  
## Full path to the slaves.json wallet
#slaves_filename : '/home/{USER}/.qrl/slaves.json'  
#
## Full Path to wallet directory Defaults to ~./qrl/
#wallet_dir : /home/{USER}/.qrl/wallet  
#
# ====================================== 
## NTP Settings  
# ======================================
## Select the NTP server for the node to use. 
## This must connect and get the correct time for this node to sync the blockchain
## Here are a few good options. Select a server you can connect to from the node.
##
## time.nist.gov
## pool.ntp.org
## time.google.com
## ntp.ubuntu.com
## mycustomdns.com#
#ntp_servers: pool.ntp.org
#
# ====================================== 
## Default Locations  
# ====================================== 
## This is where the program will look for files  
## Only change these if you must! You HAVE to use full path for location.  
## Change the {USER} to your local user.  
#  
## The users ~/.qrl/ directory  
#qrl_dir : /home/{USER}/.qrl  
#  
## The users ~/.qrl/data/ directory  
#data_dir : /home/{USER}/.qrl/data  
#  
## QRL Loging location ~/.qrl/qrl.log  
#log_path : /home/{USER}/.qrl/qrl.log  
#  
## The users ~/.qrl/wallet/ directory  
#wallet_staking_dir : /home/{USER}/.qrl/wallet  
#
# ======================================  
## Ephemeral Configuration 
# ======================================  
## Change ephemeral messaging settings
# 
#accept_ephemeral : True  
#
#outgoing_message_expiry : 90 # Outgoing message expires after 90 seconds  
#
#p2p_q_size : 1000  
#  
## Cache Size  
#lru_state_cache_size : 10  
#max_state_limit : 10  
#
# ======================================  
## PEER Configuration  
# ======================================  
#
## Allows to discover new peers from the connected peers  
#enable_peer_discovery : True  
#  
## Allows to ban a peer's IP who is breaking protocol  
#ban_minutes : 20  
#  
## Number of allowed peers  
#max_peers_limit : 100  
#  
#chain_state_timeout : 180  
#chain_state_broadcast_period : 30 # must be less than ping_timeout  
#
# ==================
## End Configuration
```

* * *

Please add any issues found here in GitHub. Thanks for helping run QRL Beta-Net!

If you need help jump into the [Discord Chat](https://discord.gg/RcR9WzX)


* * *


### Node Commands

Some Handy Commands to query against your node. 

``` bash
screen -d -m ~/QRL/start_qrl    # This will start QRL in a screen session.
screen -r                       # To reattach the screen
ctl+a d                         # Exit the screen without quitting the program
tail -f ~/.qrl/qrl.log          # Show activity in qrl.log

# Print found blocks. If empty your node has not found anything yet.
grep Solution Found ~/.qrl/qrl.log

# Prints how many blocks you have found (count of won blocks)
grep `Solution Found` ~/.qrl/qrl.log |wc -l   
```


* * *

### QRL Help

You can get this list of help from the command line by simply entering

```bash
qrl --help
```

You can get more detail from a sub catigory by entering 

```bash
qrl wallet_seceret --help
```

```bash
qrl --help

Usage: qrl [OPTIONS] COMMAND [ARGS]...

  QRL Command Line Interface

Options:
  -r, --remote        connect to remote node
  --host TEXT         remote host address             [127.0.0.1]
  --port_pub INTEGER  remote port number (public api) [9009]
  --port_adm INTEGER  remote port number (admin api)  [9009]* will change
  --wallet_dir TEXT   local wallet dir
  --version           Show the version and exit.
  --help              Show this message and exit.

Commands:
  collect            Collects and returns the list of encrypted...
  send_eph_message   Creates & Push Ephemeral Message :param ctx:...
  slave_tx_generate  Generates Slave Transaction for the wallet
  token_list         Create Token Transaction, that results into...
  tx_inspect         Inspected a transaction blob
  tx_latticepk       Create Lattice Public Keys Transaction
  tx_prepare         Request a tx blob (unsigned) to transfer from...
  tx_push
  tx_sign            Sign a tx blob
  tx_token           Create Token Transaction, that results into...
  tx_transfer        Transfer coins from src to dst
  tx_transfertoken   Create Token Transaction, that results into...
  wallet_add         Adds an address or generates a new wallet...
  wallet_gen         Generates a new wallet with one address
  wallet_ls          Lists available wallets
  wallet_recover     Recovers a wallet from a hexseed or mnemonic...
  wallet_secret      Provides the mnemonic/hexseed of the given...




```
```bash
start_qrl --help

usage: start_qrl [-h] [--mining_thread_count] [--quiet] [--datadir DATA_DIR]
                 [--no-colors] [-l {DEBUG,INFO,WARNING,ERROR,CRITICAL}]
                 [--randomizeSlaveXMSS]

QRL node

optional arguments:
  -h, --help            show this help message and exit
  --mining_thread_count, -m
                        Number of threads for mining
  --quiet, -q           Avoid writing data to the console
  --datadir DATA_DIR, -d DATA_DIR
                        Retrieve data from a different path
  --no-colors           Disables color output
  -l {DEBUG,INFO,WARNING,ERROR,CRITICAL}, --loglevel {DEBUG,INFO,WARNING,ERROR,CRITICAL}
                        Set the logging level
  --randomizeSlaveXMSS  Generates random slaves.json file (Warning: For
                        Integration Test only)

```